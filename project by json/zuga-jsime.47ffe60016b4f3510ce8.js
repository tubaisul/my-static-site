!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t,n){"use strict";function i(e){switch(e){case"A":case"a":return u.a;case"B":case"b":return u.b;case"c":return u.c;case"C":return u.C;case"d":case"D":return u.d;case"E":case"e":return u.e;case"f":return u.f;case"g":return u.g;case"h":return u.h;case"H":return u.H;case"i":return u.i;case"j":return u.j;case"k":return u.k;case"l":return u.l;case"L":return u.L;case"m":return u.m;case"n":return u.n;case"o":case"O":return u.o;case"p":return u.p;case"q":return u.q;case"r":return u.r;case"R":return u.R;case"s":return u.s;case"t":case"T":return u.t;case"u":case"U":return u.u;case"v":return u.o;case"w":return u.w;case"x":case"X":return u.x;case"y":return u.y;case"z":return u.z;case"Z":return u.Z;case";":return u.N}}function a(e,t){switch(t){case o.A:return u.a;case o.B:return u.b;case o.C:return e?u.C:u.c;case o.D:return u.d;case o.E:return u.e;case o.F:return u.f;case o.G:return u.g;case o.H:return e?u.H:u.h;case o.I:return u.i;case o.J:return u.j;case o.K:return u.k;case o.L:return e?u.L:u.l;case o.M:return u.m;case o.N:return u.n;case o.O:return u.o;case o.P:return u.p;case o.Q:return u.q;case o.R:return e?u.R:u.r;case o.S:return u.s;case o.T:return u.t;case o.U:return u.u;case o.V:return u.o;case o.W:return u.w;case o.X:return u.x;case o.Y:return u.y;case o.Z:return e?u.Z:u.z;case o.SUBTRACT:return u.sep;case o.SEMI_COLON:return u.N}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertString=i,t.convertCode=a;var r=t.Unicode={A:6176,E:6177,I:6178,O:6179,U:6180,OE:6181,UE:6182,EE:6183,NA:6184,ANG:6185,BA:6186,PA:6187,HA:6188,GA:6189,MA:6190,LA:6191,SA:6192,SHA:6193,TA:6194,DA:6195,CHA:6196,JA:6197,YA:6198,RA:6199,WA:6200,FA:6201,KA:6202,TSA:6204,ZA:6205,HAA:6206,ZRA:6223,LHA:6208,ZHI:6209,CHI:6210,MVS:6158},u=t.KeyCodeMap={q:r.CHA,w:r.WA,e:r.E,r:r.RA,R:r.ZRA,t:r.TA,y:r.YA,u:r.UE,i:r.I,o:r.O,v:r.O,p:r.PA,a:r.A,s:r.SA,d:r.DA,f:r.FA,g:r.GA,h:r.HA,H:r.HAA,j:r.JA,k:r.KA,l:r.LA,L:r.LHA,z:r.ZA,Z:r.ZHI,x:r.SHA,c:r.TSA,C:r.CHI,b:r.BA,n:r.NA,N:r.ANG,m:r.MA,sep:r.MVS},o=(t.PuaMap={Comma:57910,Period:57911,Attention:57936,Question:57937,Colon:57912,A_isolate:57956,A_initial:57958,A_final:57960,A_finalTall:57961,A_finalShort:57962,A_underCurve:57963,A_medial:57964,A_medialUnderCurve:57965,E_isolate:57968,E_initial:57969,E_finalTail:57971,E_final:57972,E_finalCurve:57973,E_medial:57974,E_medialUnderCurve:57975,I_isolate2:57977,I_initial:57978,I_final:57979,I_underCurve:57980,I_medial2:57982,I_medialCurve:57983,I_medial:57985,O_isolate:57987,O_initial:57988,O_final:57989,O_final2:57990,O_finalCurve:57991,O_medialMix:57992,O_medial:57993,O_medialCurve:57994,U_isolate:57995,U_initial:57996,U_final:57997,U_final2:57998,U_finalCurve:57999,U_medialMix:58e3,U_medial:58001,U_medialCurve:58002,OE_isolate:58003,OE_initial:58005,OE_final:58006,OE_final2:58007,OE_finalCurve1:58008,OE_final3:58009,OE_finalCurve:58010,OE_medialMixLeg:58011,OE_medialLeg:58012,OE_medialCurveLeg:58013,OE_medial:58014,OE_medialCurve:58015,UE_isolate:58016,UE_initial:58018,UE_final:58019,UE_final2:58020,UE_finalCurve1:58021,UE_final3:58022,UE_finalCurve:58023,UE_medialMixLeg:58024,UE_medialLeg:58025,UE_medialCurveLeg:58026,UE_medial:58027,UE_medialCurve:58028,NA_initial:58035,NA_final:58037,NA_medialFinal:58038,NA_medial:58041,NA_medialNoDot:58042,ANG_final:58043,ANG_medial:58044,ANG_medialBeforeCurve:58045,BA_initial:58049,BA_initialBeforeBelly:58050,BA_final:58051,BA_medial:58053,BA_medialBeforeBelly:58054,BA_medialBeforeConsonant:58055,PA_initial:58056,PA_initialBeforeBelly:58057,PA_final:58058,PA_medial:58059,PA_medialBeforeBelly:58060,PA_medialBeforeConsonant:58061,HA_initialFeminine:58064,HA_initial:58066,HA_initialBeforeBelly:58068,HA_medialSep:58070,HA_medialFeminine:58074,HA_medial:58076,HA_medialBeforeBelly:58077,GA_initialFeminine:58083,GA_initial:58084,GA_initialBeforeBelly:58086,GA_final:58087,GA_finalFeminine:58088,GA_medialSep:58089,GA_medialFeminine:58091,GA_medial:58092,GA_medialBeforeBelly:58093,GA_medialNoDot:58094,MA_initial:58098,MA_medialFinal:58099,MA_medial:58101,LA_initial:58104,LA_medialFinal:58105,LA_medial:58107,SA_initial:58110,SA_final:58111,SA_medial:58114,SHA_initial:58116,SHA_final:58117,SHA_medial:58119,TA_initial:58121,TA_final:58122,TA_medial:58123,TA_medialLatin:58125,DA_initial2:58127,DA_initial:58128,DA_final:58129,DA_final2:58130,DA_medial:58131,DA_medial2:58132,CHA_initial:58133,CHA_final:58134,CHA_medial:58135,JA_initial:58136,JA_final:58139,JA_medial:58141,YA_initial:58142,YA_medialFinal:58143,YA_medial:58144,RA_initial:58146,RA_initialBeforeCurve:58147,RA_medialFinal:58149,RA_medial:58150,RA_medialBeforeCurve:58151,WA_initial:58153,WA_final:58154,WA_medialFinal:58155,WA_medial:58156,FA_initial:58157,FA_initialBeforeBelly:58158,FA_final:58159,FA_medial:58160,FA_medialBeforeBelly:58161,FA_medialBeforeConsonant:58162,KA_initial:58163,KA_initialBeforeBelly:58164,KA_final:58165,KA_medial:58166,KA_medialBeforeBelly:58167,KA_medialBeforeConsonant:58168,TSA_initial:58175,TSA_final:58176,TSA_medial:58177,ZA_initial:58178,ZA_final:58179,ZA_medial:58180,HAA_initial:58181,HAA_final:58182,HAA_medial:58183,ZRA_initial:58184,ZRA_isolate:58186,LHA_initial:58187,LHA_medial:58188,ZHI_isolate:58190,CHI_initial:58191},t.Keys={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,N0:48,N1:49,N2:50,N3:51,N4:52,N5:53,N6:54,N7:55,N8:56,N9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUM_PAD_0:96,NUM_PAD_1:97,NUM_PAD_2:98,NUM_PAD_3:99,NUM_PAD_4:100,NUM_PAD_5:101,NUM_PAD_6:102,NUM_PAD_7:103,NUM_PAD_8:104,NUM_PAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222})},function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),l=2,s=1,c=0,p=-1,f=1,d=2,h=function(){function e(){r(this,e),this.type=f,this.shifted=!1,this.gender=p,this.next=null,this.prev=null}return u(e,[{key:"isCurve",value:function(){return!1}},{key:"isBelly",value:function(){return!1}},{key:"isSeparable",value:function(){return!1}},{key:"getPosition",value:function(){return null==this.prev?null==this.next?0:1:null==this.next?3:2}},{key:"getForm",value:function(){switch(this.getPosition()){case 1:return this.getInitial();case 2:return this.getMedial();case 3:return this.getFinal();case 0:return this.getIsolate()}}},{key:"backwardGender",value:function(){for(var e=this.prev;e;){if(e.Gender===s||e.Gender===c)return e.Gender;e=e.prev}return l}},{key:"getIsolate",value:function(){}},{key:"getInitial",value:function(){}},{key:"getMedial",value:function(){}},{key:"getFinal",value:function(){}},{key:"Next",set:function(e){this.next=e},get:function(){return this.next}},{key:"Prev",set:function(e){this.prev=e},get:function(){return this.prev}},{key:"Type",set:function(e){this.type=e},get:function(){return this.type}},{key:"Gender",set:function(e){this.gender=e},get:function(){return this.gender}},{key:"Shifted",set:function(e){this.shifted=e}}],[{key:"create",value:function(e){switch(e){case o.Unicode.A:return new v;case o.Unicode.E:return new M;case o.Unicode.I:return new E;case o.Unicode.O:return new L;case o.Unicode.U:return new j;case o.Unicode.OE:return new B;case o.Unicode.UE:return new W;case o.Unicode.NA:return new T;case o.Unicode.ANG:return new m;case o.Unicode.BA:return new g;case o.Unicode.PA:return new U;case o.Unicode.HA:return new x;case o.Unicode.GA:return new w;case o.Unicode.MA:return new N;case o.Unicode.LA:return new O;case o.Unicode.SA:return new H;case o.Unicode.SHA:return new R;case o.Unicode.TA:return new D;case o.Unicode.DA:return new P;case o.Unicode.CHA:return new y;case o.Unicode.JA:return new C;case o.Unicode.YA:return new z;case o.Unicode.RA:return new F;case o.Unicode.WA:return new K;case o.Unicode.FA:return new k;case o.Unicode.KA:return new S;case o.Unicode.TSA:return new G;case o.Unicode.ZA:return new Z;case o.Unicode.HAA:return new b;case o.Unicode.ZRA:return new V;case o.Unicode.LHA:return new I;case o.Unicode.ZHI:return new Y;case o.Unicode.CHI:return new A;case o.Unicode.MVS:return new _}}}]),e}();t.default=h;var _=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Type=p,e}return a(t,e),u(t,[{key:"getIsolate",value:function(){return-1}},{key:"getInitial",value:function(){return-1}},{key:"getMedial",value:function(){return-1}},{key:"getFinal",value:function(){return-1}}]),t}(h),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=s,e.Type=d,e}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.A_isolate}},{key:"getInitial",value:function(){return o.PuaMap.A_initial}},{key:"getMedial",value:function(){return this.prev.isCurve()&&!this.prev instanceof x&&!this.prev instanceof w?o.PuaMap.A_medialUnderCurve:o.PuaMap.A_medial}},{key:"getFinal",value:function(){return this.prev.isCurve()?this.prev instanceof x||this.prev instanceof w?2===this.prev.getPosition()?o.PuaMap.A_finalShort:o.PuaMap.A_final:o.PuaMap.A_underCurve:this.prev.isSeparable()?1===this.prev.getPosition()?o.PuaMap.A_final:this.shifted?o.PuaMap.A_final:o.PuaMap.A_finalShort:o.PuaMap.A_final}}]),t}(h),m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.ANG_final}},{key:"getInitial",value:function(){return o.PuaMap.ANG_medial}},{key:"getFinal",value:function(){return o.PuaMap.ANG_final}},{key:"getMedial",value:function(){return this.next.isCurve()?o.PuaMap.ANG_medialBeforeCurve:o.PuaMap.ANG_medial}}]),t}(h),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isCurve",value:function(){return!0}},{key:"getFinal",value:function(){return o.PuaMap.BA_final}},{key:"getIsolate",value:function(){return o.PuaMap.BA_final}},{key:"getInitial",value:function(){return this.next.isBelly()?o.PuaMap.BA_initialBeforeBelly:o.PuaMap.BA_initial}},{key:"getMedial",value:function(){return this.next.isBelly()?o.PuaMap.BA_medialBeforeBelly:this.next.Type===f?o.PuaMap.BA_medialBeforeConsonant:o.PuaMap.BA_medial}}]),t}(h),y=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=l,e.Type=f,e}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.CHA_initial}},{key:"getInitial",value:function(){return o.PuaMap.CHA_initial}},{key:"getMedial",value:function(){return o.PuaMap.CHA_medial}},{key:"getFinal",value:function(){return o.PuaMap.CHA_final}}]),t}(h),A=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.CHI_initial}},{key:"getInitial",value:function(){return o.PuaMap.CHI_initial}},{key:"getMedial",value:function(){return o.PuaMap.CHI_initial}},{key:"getFinal",value:function(){return o.PuaMap.CHI_initial}}]),t}(h),P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getMedial",value:function(){return this.next.Type===d?o.PuaMap.DA_medial:o.PuaMap.DA_medial2}},{key:"getIsolate",value:function(){return o.PuaMap.DA_initial}},{key:"getInitial",value:function(){return this.next.Type!==d||this.next.next?this.shifted?o.PuaMap.DA_initial:o.PuaMap.DA_initial2:this.shifted?o.PuaMap.DA_initial2:o.PuaMap.DA_initial}},{key:"getFinal",value:function(){return this.shifted?o.PuaMap.DA_final2:o.PuaMap.DA_final}}]),t}(h),M=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=c,e.Type=d,e}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.E_isolate}},{key:"getInitial",value:function(){return o.PuaMap.E_initial}},{key:"getMedial",value:function(){return this.prev.isCurve()?o.PuaMap.E_medialUnderCurve:o.PuaMap.E_medial}},{key:"getFinal",value:function(){return this.prev.isCurve()?o.PuaMap.E_finalCurve:this.prev instanceof T&&this.prev.prev&&this.prev.prev instanceof t&&1===this.prev.prev.getPosition()?o.PuaMap.E_finalTail:this.prev instanceof O&&this.prev.prev&&this.prev.prev instanceof E&&this.prev.prev.prev&&this.prev.prev.prev instanceof g&&1===this.prev.prev.prev.getPosition()?o.PuaMap.E_finalTail:this.prev.isSeparable()&&2===this.prev.getPosition()?this.shifted?o.PuaMap.E_finalTail:o.PuaMap.E_final:o.PuaMap.E_finalTail}}]),t}(h),k=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isCurve",value:function(){return!0}},{key:"getIsolate",value:function(){return o.PuaMap.FA_final}},{key:"getInitial",value:function(){return this.next.isBelly()?o.PuaMap.FA_initialBeforeBelly:(this.next.Type,o.PuaMap.FA_initial)}},{key:"getMedial",value:function(){return this.next.isBelly()?o.PuaMap.FA_medialBeforeBelly:this.next.Type===f?o.PuaMap.FA_medialBeforeConsonant:o.PuaMap.FA_medial}},{key:"getFinal",value:function(){return o.PuaMap.FA_final}}]),t}(h),w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isCurve",value:function(){return!0}},{key:"isSeparable",value:function(){return!0}},{key:"getIsolate",value:function(){return o.PuaMap.GA_initial}},{key:"getInitial",value:function(){return this.next instanceof W||this.next instanceof B?o.PuaMap.GA_initialBeforeBelly:this.next.Gender===s?o.PuaMap.GA_initial:o.PuaMap.GA_initialFeminine}},{key:"getMedial",value:function(){if(this.next instanceof v&&3===this.next.getPosition())return o.PuaMap.GA_medialSep;if(this.next.Type===f){if(this.prev instanceof T)return o.PuaMap.GA_medialFeminine;return this.backwardGender()===s?o.PuaMap.GA_medialNoDot:o.PuaMap.GA_medialFeminine}return this.next.Type===d?this.next.Gender===s?o.PuaMap.GA_medial:this.next instanceof W||this.next instanceof B?o.PuaMap.GA_medialBeforeBelly:o.PuaMap.GA_medialFeminine:o.PuaMap.GA_medial}},{key:"getFinal",value:function(){return this.prev instanceof E&&this.prev.prev&&this.prev.prev instanceof O&&this.prev.prev.prev&&this.prev.prev.prev instanceof E&&this.prev.prev.prev.prev&&this.prev.prev.prev.prev instanceof g?o.PuaMap.GA_finalFeminine:s!==this.backwardGender()?this.shifted?o.PuaMap.GA_final:o.PuaMap.GA_finalFeminine:this.prev instanceof T?o.PuaMap.GA_finalFeminine:this.shifted?o.PuaMap.GA_finalFeminine:o.PuaMap.GA_final}}]),t}(h),x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isCurve",value:function(){return!0}},{key:"isSeparable",value:function(){return!0}},{key:"getIsolate",value:function(){return o.PuaMap.HA_initial}},{key:"getInitial",value:function(){return this.next.isBelly()?this.next.Gender===s?o.PuaMap.HA_initial:o.PuaMap.HA_initialBeforeBelly:this.next.Gender!==s?o.PuaMap.HA_initialFeminine:o.PuaMap.HA_initial}},{key:"getMedial",value:function(){return this.next.isBelly()&&this.next.Gender===c?o.PuaMap.HA_medialBeforeBelly:this.next instanceof M||this.next instanceof E?o.PuaMap.HA_medialFeminine:this.next instanceof v&&3===this.next.getPosition()?o.PuaMap.HA_medialSep:o.PuaMap.HA_medial}},{key:"getFinal",value:function(){return o.PuaMap.HA_medialSep}}]),t}(h),b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.HAA_initial}},{key:"getInitial",value:function(){return o.PuaMap.HAA_initial}},{key:"getMedial",value:function(){return o.PuaMap.HAA_medial}},{key:"getFinal",value:function(){return o.PuaMap.HAA_final}}]),t}(h),E=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=l,e.Type=d,e}return a(t,e),u(t,[{key:"getMedial",value:function(){return this.prev instanceof W||this.prev instanceof B||this.prev instanceof t||this.next instanceof t||this.prev.Type===f?o.PuaMap.I_medial2:this.prev instanceof _&&!this.next.next?o.PuaMap.I_medial:this.prev.prev&&!this.prev.prev.prev&&this.prev.prev instanceof T&&this.prev instanceof v&&this.next instanceof N&&this.next.next&&this.next.next instanceof v?o.PuaMap.I_medial2:this.prev.isCurve()?o.PuaMap.I_medialCurve:o.PuaMap.I_medial}},{key:"getIsolate",value:function(){return this.shifted?o.PuaMap.I_isolate2:o.PuaMap.I_final}},{key:"getInitial",value:function(){return this.next instanceof T&&!this.next.next?this.shifted?o.PuaMap.I_initial:o.PuaMap.I_medial:o.PuaMap.I_initial}},{key:"getFinal",value:function(){return this.prev.isCurve()?o.PuaMap.I_underCurve:o.PuaMap.I_final}}]),t}(h),C=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.JA_initial}},{key:"getInitial",value:function(){return o.PuaMap.JA_initial}},{key:"getMedial",value:function(){return o.PuaMap.JA_medial}},{key:"getFinal",value:function(){return o.PuaMap.JA_final}}]),t}(h),S=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isCurve",value:function(){return!0}},{key:"getIsolate",value:function(){return o.PuaMap.KA_initial}},{key:"getInitial",value:function(){return this.next.isBelly()?o.PuaMap.KA_initialBeforeBelly:o.PuaMap.KA_initial}},{key:"getMedial",value:function(){return this.next.isBelly()?o.PuaMap.KA_medialBeforeBelly:this.next.Type===f?o.PuaMap.KA_medialBeforeConsonant:o.PuaMap.KA_medial}},{key:"getFinal",value:function(){return o.PuaMap.KA_final}}]),t}(h),O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getMedial",value:function(){return this.prev instanceof E&&this.prev.prev&&this.prev.prev instanceof g&&1===this.prev.prev.getPosition()&&this.next instanceof M&&3===this.next.getPosition()?o.PuaMap.LA_medial:(this.next instanceof v||this.next instanceof M)&&3===this.next.getPosition()?this.next.shifted?o.PuaMap.LA_medial:o.PuaMap.LA_medialFinal:o.PuaMap.LA_medial}},{key:"isSeparable",value:function(){return!0}},{key:"getIsolate",value:function(){return o.PuaMap.LA_initial}},{key:"getInitial",value:function(){return o.PuaMap.LA_initial}},{key:"getFinal",value:function(){return o.PuaMap.LA_medialFinal}}]),t}(h),I=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.LHA_initial}},{key:"getInitial",value:function(){return o.PuaMap.LHA_initial}},{key:"getMedial",value:function(){return o.PuaMap.LHA_medial}},{key:"getFinal",value:function(){return o.PuaMap.LHA_medial}}]),t}(h),N=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isSeparable",value:function(){return!0}},{key:"getMedial",value:function(){return(this.next instanceof v||this.next instanceof M)&&3===this.next.getPosition()?this.next.shifted?o.PuaMap.MA_medial:o.PuaMap.MA_medialFinal:o.PuaMap.MA_medial}},{key:"getIsolate",value:function(){return o.PuaMap.MA_initial}},{key:"getInitial",value:function(){return o.PuaMap.MA_initial}},{key:"getFinal",value:function(){return o.PuaMap.MA_medialFinal}}]),t}(h),T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isSeparable",value:function(){return!0}},{key:"getMedial",value:function(){return this.prev instanceof E&&this.prev.prev&&this.prev.prev instanceof y&&this.next instanceof K&&this.next.next&&this.next.next instanceof v?o.PuaMap.NA_medial:this.prev instanceof M&&1===this.prev.getPosition()&&this.next instanceof M&&3===this.next.getPosition()?o.PuaMap.NA_medial:(this.next instanceof v||this.next instanceof M)&&3===this.next.getPosition()?this.next.shifted?o.PuaMap.NA_medial:o.PuaMap.NA_medialFinal:this.next.Type===d?this.shifted?o.PuaMap.NA_medialNoDot:o.PuaMap.NA_medial:this.shifted?o.PuaMap.NA_medial:o.PuaMap.NA_medialNoDot}},{key:"getIsolate",value:function(){return o.PuaMap.NA_initial}},{key:"getInitial",value:function(){return o.PuaMap.NA_initial}},{key:"getFinal",value:function(){return o.PuaMap.NA_final}}]),t}(h),L=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=s,e.Type=d,e}return a(t,e),u(t,[{key:"isBelly",value:function(){return!0}},{key:"getFinal",value:function(){return this.prev.isCurve()?this.prev instanceof w||this.prev instanceof x?o.PuaMap.O_final:o.PuaMap.O_finalCurve:this.shifted?o.PuaMap.O_final2:o.PuaMap.O_final}},{key:"getMedial",value:function(){return this.prev.isCurve()?this.prev instanceof w||this.prev instanceof x?o.PuaMap.O_medial:o.PuaMap.O_medialCurve:this.shifted?o.PuaMap.O_medialMix:o.PuaMap.O_medial}},{key:"getIsolate",value:function(){return o.PuaMap.O_isolate}},{key:"getInitial",value:function(){return o.PuaMap.O_initial}}]),t}(h),B=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=c,e.Type=d,e}return a(t,e),u(t,[{key:"isBelly",value:function(){return!0}},{key:"getMedial",value:function(){return 1===this.prev.getPosition()?this.prev.isCurve()?o.PuaMap.OE_medialCurveLeg:o.PuaMap.OE_medialLeg:this.prev.isCurve()?o.PuaMap.OE_medialCurve:this.backwardGender(this.prev)===s?o.PuaMap.OE_medialMixLeg:this.shifted?o.PuaMap.OE_medialMixLeg:o.PuaMap.OE_medial}},{key:"getFinal",value:function(){return!this.prev.prev&&this.prev instanceof H?this.shifted?o.PuaMap.OE_final:o.PuaMap.OE_final2:!this.prev.prev&&this.prev instanceof x?this.shifted?o.PuaMap.OE_finalCurve:o.PuaMap.OE_finalCurve1:this.prev.isCurve()?this.shifted?o.PuaMap.OE_finalCurve1:o.PuaMap.OE_finalCurve:this.shifted?o.PuaMap.OE_final2:o.PuaMap.OE_final}},{key:"getIsolate",value:function(){return o.PuaMap.OE_isolate}},{key:"getInitial",value:function(){return o.PuaMap.OE_initial}}]),t}(h),U=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isCurve",value:function(){return!0}},{key:"getIsolate",value:function(){return o.PuaMap.PA_initial}},{key:"getInitial",value:function(){return this.next.isBelly()?o.PuaMap.PA_initialBeforeBelly:o.PuaMap.PA_initial}},{key:"getMedial",value:function(){return this.next.isBelly()?o.PuaMap.PA_medialBeforeBelly:this.next.Type===f?o.PuaMap.PA_medialBeforeConsonant:o.PuaMap.PA_medial}},{key:"getFinal",value:function(){return o.PuaMap.PA_final}}]),t}(h),F=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isSeparable",value:function(){return!0}},{key:"getMedial",value:function(){return(this.next instanceof v||this.next instanceof M)&&3===this.next.getPosition()?this.next.shifted?o.PuaMap.RA_medial:o.PuaMap.RA_medialFinal:o.PuaMap.RA_medial}},{key:"getIsolate",value:function(){return o.PuaMap.RA_initial}},{key:"getInitial",value:function(){return o.PuaMap.RA_initial}},{key:"getFinal",value:function(){return o.PuaMap.RA_medialFinal}}]),t}(h),H=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.SA_initial}},{key:"getInitial",value:function(){return o.PuaMap.SA_initial}},{key:"getMedial",value:function(){return o.PuaMap.SA_medial}},{key:"getFinal",value:function(){return o.PuaMap.SA_final}}]),t}(h),R=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.SHA_initial}},{key:"getInitial",value:function(){return this.shifted?o.PuaMap.SA_initial:o.PuaMap.SHA_initial}},{key:"getMedial",value:function(){return this.shifted?o.PuaMap.SA_medial:o.PuaMap.SHA_medial}},{key:"getFinal",value:function(){return o.PuaMap.SHA_final}}]),t}(h),D=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getMedial",value:function(){return this.shifted?o.PuaMap.TA_medialLatin:o.PuaMap.TA_medial}},{key:"getIsolate",value:function(){return o.PuaMap.TA_initial}},{key:"getInitial",value:function(){return o.PuaMap.TA_initial}},{key:"getFinal",value:function(){return o.PuaMap.TA_final}}]),t}(h),G=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.TSA_initial}},{key:"getInitial",value:function(){return o.PuaMap.TSA_initial}},{key:"getMedial",value:function(){return o.PuaMap.TSA_medial}},{key:"getFinal",value:function(){return o.PuaMap.TSA_final}}]),t}(h),j=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=s,e.Type=d,e}return a(t,e),u(t,[{key:"isBelly",value:function(){return!0}},{key:"getFinal",value:function(){return this.prev.isCurve()?this.prev instanceof w||this.prev instanceof x?o.PuaMap.U_final:o.PuaMap.U_finalCurve:this.shifted?o.PuaMap.U_final2:o.PuaMap.U_final}},{key:"getMedial",value:function(){return this.prev.isCurve()?this.prev instanceof w||this.prev instanceof x?o.PuaMap.U_medial:o.PuaMap.U_medialCurve:this.shifted?o.PuaMap.U_medialMix:o.PuaMap.U_medial}},{key:"getIsolate",value:function(){return o.PuaMap.U_isolate}},{key:"getInitial",value:function(){return o.PuaMap.U_initial}}]),t}(h),W=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Gender=c,e.Type=d,e}return a(t,e),u(t,[{key:"isBelly",value:function(){return!0}},{key:"getMedial",value:function(){return 1===this.prev.getPosition()?this.prev.isCurve()?o.PuaMap.UE_medialCurveLeg:o.PuaMap.UE_medialLeg:this.prev.isCurve()?o.PuaMap.UE_medialCurve:this.backwardGender(this.prev)===s?o.PuaMap.UE_medialMixLeg:this.shifted?o.PuaMap.UE_medialLeg:o.PuaMap.UE_medial}},{key:"getIsolate",value:function(){return o.PuaMap.UE_isolate}},{key:"getInitial",value:function(){return this.next instanceof t&&!this.next.next?o.PuaMap.UE_medial:o.PuaMap.UE_initial}},{key:"getFinal",value:function(){return!this.prev.prev&&this.prev instanceof H?this.shifted?o.PuaMap.UE_final:o.PuaMap.UE_final2:!this.prev.prev&&this.prev instanceof x?this.shifted?o.PuaMap.UE_finalCurve:o.PuaMap.UE_finalCurve1:this.prev.isCurve()?this.shifted?o.PuaMap.UE_finalCurve1:o.PuaMap.UE_finalCurve:this.shifted?o.PuaMap.UE_final2:o.PuaMap.UE_final}}]),t}(h),K=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isSeparable",value:function(){return!0}},{key:"getMedial",value:function(){return(this.next instanceof v||this.next instanceof M)&&3===this.next.getPosition()?this.next.shifted?o.PuaMap.WA_medial:o.PuaMap.WA_medialFinal:o.PuaMap.WA_medial}},{key:"getIsolate",value:function(){return o.PuaMap.WA_initial}},{key:"getInitial",value:function(){return o.PuaMap.WA_initial}},{key:"getFinal",value:function(){return o.PuaMap.WA_final}}]),t}(h),z=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"isSeparable",value:function(){return!0}},{key:"getMedial",value:function(){return(this.next instanceof v||this.next instanceof M)&&3===this.next.getPosition()?this.next.shifted?o.PuaMap.YA_medial:o.PuaMap.YA_medialFinal:o.PuaMap.YA_medial}},{key:"getIsolate",value:function(){return o.PuaMap.YA_initial}},{key:"getInitial",value:function(){return o.PuaMap.YA_initial}},{key:"getFinal",value:function(){return o.PuaMap.YA_medialFinal}}]),t}(h),Z=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.ZA_initial}},{key:"getInitial",value:function(){return o.PuaMap.ZA_initial}},{key:"getMedial",value:function(){return o.PuaMap.ZA_medial}},{key:"getFinal",value:function(){return o.PuaMap.ZA_final}}]),t}(h),Y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.ZHI_isolate}},{key:"getInitial",value:function(){return o.PuaMap.ZHI_isolate}},{key:"getMedial",value:function(){return o.PuaMap.ZHI_isolate}},{key:"getFinal",value:function(){return o.PuaMap.ZHI_isolate}}]),t}(h),V=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getIsolate",value:function(){return o.PuaMap.ZRA_isolate}},{key:"getInitial",value:function(){return o.PuaMap.ZRA_initial}},{key:"getMedial",value:function(){return o.PuaMap.ZRA_initial}},{key:"getFinal",value:function(){return o.PuaMap.ZRA_isolate}}]),t}(h)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t="";if(e.indexOf("'")>=0){for(var n=e.split("'"),i=0;i<n.length;i++)if(n[i]){var a=r(n[i]),u=ZugaIME.config.appendSpace?" ":"";t+=a+u}return t.substring(0,t.length-1)}return r(e)}function r(e){if((0,u.check_sim_dic)(e))return u.dict_simple[e];for(var t=null,n=0;n<e.length;n++){var i=e[n],a=/[A-Z]/.test(i),r=p.default.create((0,o.convertString)(i));r&&(r.Shifted=a,t?t.add(r):t=new s.default(r))}return t?t.generate():null}Object.defineProperty(t,"__esModule",{value:!0}),t.push=a;var u=n(3),o=n(0),l=n(5),s=i(l),c=n(1),p=i(c)},function(e,t,n){"use strict";function i(e){return e in r}function a(e){if(null==e||0===e.length)return"";e=e.trim();var t=e.codePointAt(e.length-1),n="";57956<=t<=58191&&(n=t<=57967?"a":t<=57976?"e":t<=57986?"i":t<=58002?"o":t<=58028?"u":t<=58032?"E":t<=58042?"n":t<=58046?"ng":t<=58048?"n":t<=58055?"b":t<=58061?"p":t<=58080?"h":t<=58096?"g":t<=58102?"m":t<=58108?"l":t<=58114?"s":t<=58119?"x":t<=58125?"t":t<=58132?"d":t<=58135?"q":t<=58141?"j":t<=58145?"y":t<=58152?"r":t<=58156?"w":t<=58162?"f":t<=58171?"k":t<=58174?"kh":t<=58177?"c":t<=58180?"z":t<=58183?"hk":t<=58186?"zr":t<=58189?"lh":t<=58190?"zh":"ch");var i=[];return["a","e","i","o","u"].includes(n)?(i.push(""),i.push(""),i.push(""),i.push(""),i.push(""),i.push("")):("n"===n?i.push(""):i.push(""),i.push(""),["n","m","l","ng"].includes(n)?i.push(""):i.push(""),i.push(""),i.push(""),i.push("")),i}Object.defineProperty(t,"__esModule",{value:!0}),t.check_sim_dic=i,t.get_follower=a;var r=t.dict_simple={ene:"",tere:"",bile:"",hoyagola:"",hvyagvla:"",qinwa:"",jixiye:"",minut:""}},function(e,t,n){"use strict";n(1),n(0),n(2),n(6)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.head=t,this.length=0}return a(e,[{key:"add",value:function(e){var t=e,n=this.head;if(!n)return this.head=t,this.length++,t;for(;n.Next;)n=n.Next;return n.Next=t,t.Prev=n,this.length++,t}},{key:"pop",value:function(){if(!this.head)return!1;if(this.head.next){for(var e=this.head;e.Next;)e=e.Next;e.Prev&&(e.Prev.Next=null),e=null}else this.head=null;return this.length--,!0}},{key:"dispose",value:function(){this.head=null,this.length=0}},{key:"get",value:function(e){var t=this.head,n=0;if(e>this.length)return null;for(;n<e;)t=t.Next,n++;return t}},{key:"remove",value:function(e){var t=this.head,n=0,i=null;if(e>length)return null;if(0===e)return this.head=t.Next,this.head.Prev=null,this.length--,this.head;for(;n<e;)i=t,t=t.Next,n++;return i.Next=t.Next,t.Next.Prev=i,t=null,this.length--,this.head}},{key:"generate",value:function(){for(var e="",t=this.head;t;){var n=t.getForm();n>0&&(e+=String.fromCharCode(n)),t=t.Next}return e}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return document.getElementById(e)}function a(e){e.style.display="block"}function r(e){e.style.display="none"}function u(e){return document.createElement(e)}function o(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):window.addEventListener&&e.addEventListener(t,n,!1)}function l(e,t,n){window.attachEvent?e.detachEvent("on"+t,n):window.addEventListener&&e.removeEventListener(t,n,!1)}function s(e,t){var n;n=t?t.document:document;var i=n.documentElement,a=(n.body,0),r=0;if(e.getBoundingClientRect){var u=e.getBoundingClientRect();a=u.left,r=u.top,a-=i.clientLeft,r-=i.clientTop}else for(;e.offsetParent;)a+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{x:a,y:r}}function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n|\r|\n/g,"<br>").replace(/\s/g,"&nbsp;")}function p(e,t,n){e.style[t]=n}function f(e,t){return t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),g.isIE?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null)[t]}function d(e,t){var n=e&&e.tagName&&e.tagName.toLowerCase(),i=document;if("iframe"==n&&(i=e.contentWindow.document,e.contentWindow.focus(),g.isIE11)){var a=i.getSelection(),r=a.getRangeAt(0),u=i.createTextNode(t);return r.insertNode(u),r.selectNodeContents(u),r.collapse(!1),a.removeAllRanges(),void a.addRange(r)}if(g.isIE||g.isIE11){e.focus();var o=e.ownerDocument;if(i.selection){var r=o.selection.createRange();r.text=t,r.collapse(!1),r.select()}else h(e,t,i)}else{if(!i.execCommand("insertText",!1,t)&&"function"==typeof e.setRangeText){var l=e.selectionStart;e.setRangeText(t),e.selectionStart=e.selectionEnd=l+t.length;var s=i.createEvent("UIEvent");s.initEvent("input",!0,!1),e.dispatchEvent(s)}}}function h(e,t,n){var i=e.selectionStart,a=e.selectionEnd,r=n.createTextNode(t),u=e.firstChild;if(u){for(var o=0,l=null,s=null,c=n.createRange();u&&(null===l||null===s);){var p=u.nodeValue.length;i>=o&&i<=o+p&&c.setStart(l=u,i-o),a>=o&&a<=o+p&&c.setEnd(s=u,a-o),o+=p,u=u.nextSibling}i!==a&&c.deleteContents(),c.insertNode(r)}else e.appendChild(r)}var _=n(2),v=n(3),m=navigator.userAgent,g={status:{enable:0,mn:!0,pt:!0,on:!0},config:{numSelFollower:!1,appendSpace:!0,autoShowFollower:!0},option:{tRight:50,tBottom:30,panelH:180,panelW:260},inputsource:"",curSelectNum:1,iptCurTarget:null,showNum:10,isIE:/msie (\d+)/i.test(m)&&!window.opera?parseInt(RegExp.$1):0,isIE11:/trident\/.+rv:([\d\.]+)/i.test(m)?parseInt(RegExp.$1):0,isFirefox:/firefox/i.test(m),isOpera:/opera/i.test(m)&&window.opera,isBlur:!0,panelShow:function(){},panelHide:function(){}},y=[];y[32]=[" ","　"," "," "," "," "],y[48]=["0","0","０",")","）",""],y[49]=["1","1","１","!","！",""],y[50]=["2","2","２","@","＠","@"],y[51]=["3","3","３","#","＃","#"],y[52]=["4","4","４","$","＄","￥"],y[53]=["5","5","５","%","％","%"],y[54]=["6","6","６","^","＾",""],y[55]=["7","7","７","&","＆","&"],y[56]=["8","8","８","*","＊",""],y[57]=["9","9","９","(","（",""],y[65]=["a","ａ","ａ","A","Ａ","Ａ"],y[66]=["b","ｂ","ｂ","B","Ｂ","Ｂ"],y[67]=["c","ｃ","ｃ","C","Ｃ","Ｃ"],y[68]=["d","ｄ","ｄ","D","Ｄ","Ｄ"],y[69]=["e","ｅ","ｅ","E","Ｅ","Ｅ"],y[70]=["f","ｆ","ｆ","F","Ｆ","Ｆ"],y[71]=["g","ｇ","ｇ","G","Ｇ","Ｇ"],y[72]=["h","ｈ","ｈ","H","Ｈ","Ｈ"],y[73]=["i","ｉ","ｉ","I","Ｉ","Ｉ"],y[74]=["j","ｊ","ｊ","J","Ｊ","Ｊ"],y[75]=["k","ｋ","ｋ","K","Ｋ","Ｋ"],y[76]=["l","ｌ","ｌ","L","Ｌ","Ｌ"],y[77]=["m","ｍ","ｍ","M","Ｍ","Ｍ"],y[78]=["n","ｎ","ｎ","N","Ｎ","Ｎ"],y[79]=["o","ｏ","ｏ","O","Ｏ","Ｏ"],y[80]=["p","ｐ","ｐ","P","Ｐ","Ｐ"],y[81]=["q","ｑ","ｑ","Q","Ｑ","Ｑ"],y[82]=["r","ｒ","ｒ","R","Ｒ","Ｒ"],y[83]=["s","ｓ","ｓ","S","Ｓ","Ｓ"],y[84]=["t","ｔ","ｔ","T","Ｔ","Ｔ"],y[85]=["u","ｕ","ｕ","U","Ｕ","Ｕ"],y[86]=["v","ｖ","ｖ","V","Ｖ","Ｖ"],y[87]=["w","ｗ","ｗ","W","Ｗ","Ｗ"],y[88]=["x","ｘ","ｘ","X","Ｘ","Ｘ"],y[89]=["y","ｙ","ｙ","Y","Ｙ","Ｙ"],y[90]=["z","ｚ","ｚ","Z","Ｚ","Ｚ"],y[96]=["0","0","０",")","）",""],y[97]=["1","1","１","!","！",""],y[98]=["2","2","２","@","＠","@"],y[99]=["3","3","３","#","＃","#"],y[100]=["4","4","４","$","＄","￥"],y[101]=["5","5","５","%","％","％"],y[102]=["6","6","６","^","＾",""],y[103]=["7","7","７","&","＆","&"],y[104]=["8","8","８","*","＊","*"],y[105]=["9","9","９","(","（",""],y[106]=["*","＊","*","*","＊","*"],y[107]=["+","＋","+","+","＋","+"],y[109]=["-","－","-","-","－","-"],y[110]=[".","．",".",".","．","."],y[111]=["/","／","/","/","／","/"],y[186]=[";","；","；",":","：",""],y[187]=["=","＝","=","+","＋","+"],y[188]=[",","，","","<","＜",""],y[189]=["-","－","-","_","＿","_"],y[190]=[".","．","",">","＞",""],y[191]=["/","／","/","?","？",""],y[192]=["`","｀","`","~","～","~"],y[219]=["[","［","","{","｛",""],y[220]=["\\","＼","","|","｜",""],y[221]=["]","］","","}","｝",""],y[222]=["'","＇","'","'",'"','"','"','"'];var A=[];A[1]=["","",""],A[2]=["",""],A[3]=["",""],A[4]=["",""],A[5]=["",""],A[6]=[""],A[7]=["","","",""],A[8]=["","",""],A[9]=["",""],g.data=function(){function e(e){var t=e&&e.words||[];if(0==o.page){var n=(0,_.push)(g.inputsource),i=null==n?[]:[n];t=t.reduce(function(e,t){return e[0]!=t&&e.push(t),e},i),t.length>g.showNum&&t.splice(t.length-1,1)}o.more=e.more,o.page=e.page_index,o.data=t,o.inputback=g.inputsource,0!=t.length&&g.inputpanel.setResults()}function t(e){o.more=!1,o.page=0,o.data=e,o.inputback=g.inputsource,g.inputpanel.setResults()}function n(){var e=(0,_.push)(g.inputsource);e&&(o.data=[e]),o.more=!1,o.page=0,o.inputback=g.inputsource,g.inputpanel.setResults()}function i(e){var t={word:e.join(" "),page_size:g.showNum,page:0};l.get_next(t)}function a(){if(""!=g.inputsource){var e={latin:g.inputsource.replace(/v/g,"o").replace("/;/g","ng"),page_size:g.showNum,page:o.page};l.get_candidate(e)}}function r(){o.totalPage=1,o.more=!1,o.page=0,o.data=[],g.inputsource="",g.inputpanel.setResults()}function u(){l.init()}var o={totalPage:1,more:!1,page:0,data:[],inputback:""},l={connection:null,init:function(){this.connection=io("https://ime.zuga-tech.net"),this.connection.on("connect",function(){console.log("connected server!")}),this.connection.on("candidate",function(e){if(0==e.ET){var t=e.M;g.data.setSocketData(t)}}),this.connection.on("next",function(e){if(0==e.ET){var t=e.M;g.data.setSocketData(t),o.data.length>0&&g.inputpanel.show()}}),this.connection.on("disconnect",function(){console.log("disconnected from server.")})},get_candidate:function(e){this.connection.emit("candidate",e)},get_next:function(e){this.connection.emit("next",e)}};return{init:u,db:o,setSocketData:e,setListData:t,getData:a,getNext:i,setInputData:n,resetData:r}}(),g.build=function(){function e(){var e=['<div class="ime-container" id="ime-container">','<div id="ime-input-holder" class="input-holder"><span id="input-cursor"></span></div>','<div class="input-selector">','<ul id="input-selector"></ul>',"</div>","</div>",'<div class="ime-toolbar" id="ime-toolbar">','<span id="ime-toolbar-drag" class="icon icon-logo drag">','<svg viewBox="0 0 1152 1024"><path d="M1056 896H96c-53.02 0-96-42.98-96-96V224c0-53.02 42.98-96 96-96h960c53.02 0 96 42.98 96 96v576c0 53.02-42.98 96-96 96zM256 360v-80c0-13.254-10.746-24-24-24H152c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m-672 192v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m-672 192v-80c0-13.254-10.746-24-24-24H152c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z m576 0v-80c0-13.254-10.746-24-24-24H344c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h464c13.254 0 24-10.746 24-24z m192 0v-80c0-13.254-10.746-24-24-24h-80c-13.254 0-24 10.746-24 24v80c0 13.254 10.746 24 24 24h80c13.254 0 24-10.746 24-24z"></path></svg>',"</span>",'<span id="ime-switch" class="icon-mn"></span>','<span id="ime-close" class="icon-close"><svg class="icon" viewBox="0 0 1024 1024" ><path d="M749.580488 393.315924c4.572132 4.551666 7.407714 10.803044 7.407714 18.210757l0 0c0 3.412726-0.559748 6.828522-1.717108 9.66308-1.697665 3.415796-3.39533 6.27082-5.691629 8.547677l0 0L528.52486 630.650307c-2.856048 2.276856-5.131881 3.984754-8.565073 5.691629-2.854001 1.137916-6.250354 1.706875-9.68457 1.706875-3.413749 0-6.829546-0.568958-10.262738-1.706875-2.834558-1.706875-5.690606-3.414773-7.966439-5.691629L270.971993 429.736415l0 0c-2.854001-2.276856-4.552689-5.131881-5.690606-8.547677-1.137916-2.835581-2.276856-6.250354-2.276856-9.66308 0-7.407714 3.413749-13.659091 7.966439-18.210757l0 0c4.553713-4.552689 10.82351-7.407714 18.2302-7.407714 3.414773 0 6.847965 0.559748 9.683547 1.697665 2.856048 1.157359 5.711072 3.433192 7.987928 5.710049L510.275217 577.717747l202.844871-184.401824c2.276856-2.276856 5.132904-4.552689 7.966439-5.710049 3.434216-1.137916 6.848988-1.697665 10.263761-1.697665C738.178811 385.907187 745.027799 388.762211 749.580488 393.315924L749.580488 393.315924z"></path></svg></span>',"</div>"],t=u("div");t.id="zuga-ime",t.innerHTML=e.join(""),window.document.body.appendChild(t)}function t(){e(),g.panel=i("ime-container"),g.panel_selector=i("input-selector"),g.panel_input=i("ime-input-holder"),g.tools=i("ime-toolbar"),g.tools_drag=i("ime-toolbar-drag"),g.tools_close=i("ime-close"),g.data.init(),g.control.init(),g.drag.init()}return{init:t}}(),g.toolbar=function(){function e(e){e.className="icon-mn"}function t(e){e.className="icon-en"}function n(){g.tools.style.left=s(g.iptCurTarget).x+g.iptCurTarget.clientWidth+10,g.tools.className="ime-toolbar",a(g.tools),g.toolbar.isShow=!0}function i(){g.tools.className="ime-toolbar ime-toolbar-hide",g.toolbar.isShow=!1}return{setMnOn:e,setMnOff:t,show:n,hide:i,isShow:!1}}(),g.inputpanel=function(){function e(){var e=i("ime_temp");e&&document.body.removeChild(e)}function t(e){return{x:o(e).x-d(e).x,y:o(e).y-d(e).y}}function n(e){return 9==document.documentMode?e.ownerDocument.body.innerHTML!=window.document.body.innerHTML:e.ownerDocument!=window.document}function o(e){for(var t,i=0,a=0,r=n(e);r;){var u=l(e);t=s(e,u),e=u.frameElement,i+=t.x,a+=t.y;var o=u.document.documentElement,c=u.document.body;i-=o.scrollLeft||c.scrollLeft,a-=o.scrollTop||c.scrollTop,r=n(e)}return t=s(e),i+=t.x,a+=t.y,{x:i,y:a}}function l(e){return g.isIE?e.ownerDocument.parentWindow:e.ownerDocument.defaultView}function d(e){var t=0,n=0,i=l(e),a=s(e,i);t+=a.x,n+=a.y;var r=i.document.documentElement,u=i.document.body;return t-=r.scrollLeft||u.scrollLeft,n-=r.scrollTop||u.scrollTop,{x:t,y:n}}function h(e){return{x:e.document.documentElement.scrollLeft||e.document.body.scrollLeft,y:e.document.documentElement.scrollTop||e.document.body.scrollTop}}function _(t){e();var n=t.ownerDocument.defaultView,a=s(t,n),r=u("div");r.id="ime_temp",r.style.width=t.clientWidth-1+"px",r.style.height=t.clientHeight+"px",r.style.visibility="hidden",r.style.position="absolute",r.style.wordWrap="break-word",r.style.textAlign="left",r.style.left=a.x+"px",r.style.top=a.y+"px",document.body.appendChild(r);var o=t.value,l=o.substring(0,t.selectionStart);r.innerHTML=c(l);var d=i("input-cursor-temp");d?r.removeChild(d):(d=u("span"),d.id="input-cursor-temp",d.innerHTML="&nbsp;",r.appendChild(d));for(var h=["font","fontFamily","fontSize","fontWeight","fontVariant","fontStyle","letterSpacing","wordSpacing","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","overflowX","overflowY","white-space","word-break","writing-mode","-webkit-writing-mode"],_=0;_<h.length;_++){var v=f(t,h[_]);v&&p(r,h[_],v)}return d}function v(){var e,i=g.iptCurTarget,a=g.iptCurTarget.tagName.toLowerCase(),r=0,u=0;if("textarea"==a||"input"==a){var l=t(i),c=_(i),p=h(i.ownerDocument.defaultView),f=c.offsetHeight;e=s(c),r=l.x+e.x-p.x-i.scrollLeft+30,u=l.y+e.y-p.y+f-i.scrollTop}else{var d=20,v=40;if("div"==a&&(d=30,v=6),"div"==a||"iframe"==a){var m,l=t(i),y=i.ownerDocument.defaultView,p=h(y);m="iframe"==a?i.contentWindow:y;var A=m.document.createElement("span"),P=m.getSelection().getRangeAt(0);A.id="input-cursor-temp";try{P.insertNode(A),e=s(A,m),A.parentNode.removeChild(A)}catch(t){e=o(i)}P=null,A=null}if("iframe"==a){var m=i.contentWindow;n(i)?(r=l.x+e.x-h(m).x-p.x+d,u=l.y+e.y-h(m).y-p.y+v):(r=s(i).x+e.x+30,u=s(i).y+e.y+10)}else r=l.x+e.x-p.x+d,u=l.y+e.y-p.y+v}var M=document.body.offsetHeight;M>u&&u+g.option.panelH>M&&(u=M-g.option.panelH-20);var k=document.body.offsetWidth;k>r&&r+g.option.panelW>k&&(r=k-g.option.panelW-20),g.panel.style.left=r+"px",g.panel.style.top=u+"px"}function m(){a(g.panel),g.inputpanel.isShow=!0,v(),g.panelShow()}function y(){e(),r(g.panel),g.inputpanel.isShow=!1,g.panel_input.innerHTML='<span id="input-cursor">',g.curSelectNum=1,g.inputsource="",g.followerShow=!1,g.inputwatcher.reset(),g.data.resetData(),g.panelHide()}function A(){if(!g.data.db.data)return!1;P()}function P(){for(var e="",t=0;t<g.data.db.data.length;t++){var n=t+1;e+='<li id="ime-selector-'+n+'"',1==n&&(e+=' class="ime-selected"'),10==g.showNum&&10==n&&(n=0),e+=' onclick="ZugaIME.numSelResult('+n+')"><i>'+n+".</i>"+g.data.db.data[t]+"</li>"}g.panel_selector.innerHTML=e}return{setPosition:v,isShow:!1,show:m,hide:y,setResults:A}}(),g.control=function(){function e(e,n){if(n){var r=i("ime-selector-"+g.curSelectNum);r&&(e=s(l(r.innerHTML))+e),t(e,!0)}else{g.status.on&&!g.inputpanel.isShow&&g.inputpanel.show();for(var o=0;o<e.length;o++){var c=u("span");c.innerHTML=e.substr(o,1),g.panel_input.insertBefore(c,i("input-cursor")),c=null}a()}}function t(e,t){t&&g.inputpanel.hide(),g.status.mn&&g.config.appendSpace&&e&&e.length>0&&!/^[a-zA-Z0-9-+_= \\/~@#￥&%"']+$/.test(e)&&(e+=" "),d(g.iptCurTarget,e)}function n(e){S=[];var n=i("input-cursor"),r=n.previousSibling;if(!r)return void(g.inputpanel.isShow&&g.inputpanel.hide());g.panel_input.removeChild(r),r=null,a(),""==g.inputsource&&t("",!0)}function a(){for(var e="",t=g.panel_input.getElementsByTagName("span"),n=0;n<t.length;n++){e+=t[n].innerHTML}g.inputsource=e}function r(){var e=l(g.panel_input.innerHTML);""!=e&&t(e,!0)}function l(e){return e.replace(/<\/?[^>]+>/gi,"")}function s(e){return e.replace(/^\d\./,"")}function c(){var e=i("ime-selector-"+g.curSelectNum);P(e),g.config.autoShowFollower&&_(e)}function p(e){10==g.showNum&&0==e&&(e=10);var t=i("ime-selector-"+e);P(t),g.config.autoShowFollower&&_(t)}function f(e){g.data.setListData(A[e])}function h(){var e=A.reduce(function(e,t){return e=e.concat(t)},[]);g.data.setListData(e),g.inputpanel.show(),g.data.db.inputback=""}function _(e){if(!e||""==g.data.db.inputback)return void(g.followerShow=!1);var t=M(e),n=(0,v.get_follower)(t);g.data.setListData(n),g.inputpanel.show(),g.data.db.inputback=""}function m(e){if("pre"==e)g.curSelectNum--,0==g.data.db.page?0==g.curSelectNum&&(g.curSelectNum=1):0==g.curSelectNum&&(g.curSelectNum=g.showNum,b());else if("nxt"==e)if(g.curSelectNum++,g.data.db.more)g.curSelectNum>g.showNum&&(g.curSelectNum=1,E());else{var t=g.data.db.data.length;g.curSelectNum>t&&(g.curSelectNum=t)}y(),i("ime-selector-"+g.curSelectNum).className="ime-selected"}function y(){for(var e=g.panel_selector.getElementsByTagName("li"),t=0;t<e.length;t++)e[t].className=""}function P(e){if(e){var n=M(e);S=S.concat(n.trim().split(" ")),S.length>2&&(S=S.filter(function(e,t){return t>S.length-3})),g.data.getNext(S),t(n,!0)}}function M(e){return s(l(e.innerHTML))}function k(e){var t=i("input-cursor");switch(e){case"left":var n=t.previousSibling;n&&g.panel_input.insertBefore(t,n),n=null;break;case"right":var a=t.nextSibling;a&&g.panel_input.insertBefore(a,t),a=null;break;case"home":var n=t.previousSibling,r=g.panel_input.childNodes[0];n&&r&&g.panel_input.insertBefore(t,r),n=null;break;case"end":var a=t.nextSibling;a&&g.panel_input.appendChild(t),a=null}}function w(){var e=i("ime-switch");r(),g.status.mn?(g.status.mn=!1,g.status.pt=!1,g.toolbar.setMnOff(e),g.inputpanel.hide()):(g.status.mn=!0,g.status.pt=!0,g.toolbar.setMnOn(e))}function x(e){if("input"==e.tagName.toLowerCase()||"textarea"==e.tagName.toLowerCase()){var t=!1;e==document.activeElement&&(t=!0),t&&e.blur(),t&&e.focus()}}function b(){g.data.db.page--,g.data.db.page<0&&(g.data.db.page=0),g.data.getData()}function E(){g.data.db.more&&(g.data.db.page++,g.data.getData())}function C(){o(i("ime-switch"),"click",w),o(document,"mousedown",function(e){var e=e||window.event;(e.target||e.srcElement)!=g.iptCurTarget&&(g.runner.end(),g.inputwatcher.off())})}var S=[];return{inputLetter:e,insertText:t,delLetter:n,enterInput:r,setPagePre:b,setPageNxt:E,spaSelResult:c,numSelResult:p,numSelFollower:f,showAllFollower:h,arrSelResult:m,moveCursor:k,modeMn:w,disableIme:x,init:C}}(),g.drag=function(){function e(){o(g.tools,"mousedown",function(e){u=g.tools,l=g.tools_drag,a(e)}),o(document,"mouseup",r),o(g.tools_close,"mousedown",function(e){g.toolbar.isShow?(g.runner.destroy(),g.toolbar.hide()):(g.toolbar.show(),g.runner.init())})}function t(e,t){var t=t||window.event,i=s(e),a=n(t);return{x:a.x-i.x,y:a.y-i.y}}function n(e){var t=document.documentElement,n=document.body;return{x:e.pageX||e.clientX+t.scrollLeft||n.scrollLeft,y:e.pageY||e.clientY+t.scrollTop||n.scrollTop}}function i(e){if(!u)return!1;var e=e||window.event,t=n(e),i=t.x-c.x,a=t.y-c.y,r=document.documentElement,o=document.body,l=r.scrollLeft||o.scrollLeft,s=r.scrollTop||o.scrollTop,p=r.clientWidth,f=r.clientHeight,d=u.offsetWidth,h=u.offsetHeight;u==g.tools&&(i<d&&(i=d),i>l+p-50&&(i=l+p-50),i-=l,a-=s,a<0&&(a=0),a>f-h-8&&(a=f-h-8)),u.style.left=i+"px",u.style.top=a+"px"}function a(e){o(document,"mousemove",i),document.onselectstart=function(e){return!1},g.isFirefox&&(document.body.style.MozUserSelect="none"),u.setCapture&&u.setCapture(),c=t(u,e)}function r(){if(o(document,"mousemove",i),document.onselectstart=null,g.isFirefox&&(document.body.style.MozUserSelect=""),!u)return!1;u.releaseCapture&&u.releaseCapture(),u=null}var u=null,l=null,c=null;return{init:e}}(),g.inputwatcher=function(){function e(){/\d+/.test(g.inputsource)||""!=(u=g.inputsource)&&o!=u&&(o=u,g.data.setInputData(),g.data.getData(),g.curSelectNum=1)}function t(){a||(r=setInterval(e,10),a=!0)}function n(){a&&(clearInterval(r),a=!1)}function i(){u="",o=""}var a=!1,r=null,u="",o="";return{on:t,off:n,reset:i}}(),g.keywatcher=function(){function e(e){var e=e||window.event,t=e.which?e.which:e.keyCode;if(f=e.shiftKey||16==t,d=e.ctrlKey||17==t,h=e.altKey||18==t,_=e.metaKey||91==t,A=16==t,!(d||h||_)){c=!1,t>=65&&t<=90&&(c=!0),p=!1,(t>=65&&t<=90||t>=48&&t<=57||t>=96&&t<=105||192==t||189==t||187==t||219==t||221==t||220==t||186==t||222==t||188==t||190==t||191==t||109==t||107==t||110==t||111==t||106==t||59==t||32==t)&&(p=!0);var n="",r=!1;if(p){if(!c){if(i(e),t>=48&&t<=57)if(g.inputpanel.isShow){if(f)return n=g.status.pt?y[t][5]:y[t][3],g.control.insertText(n,!0),!1;if(!g.keywatcher.checkAddr())return g.control.numSelResult(String.fromCharCode(t)),!1;n=y[t][0]}else if(f){var u=g.status.pt?5:3;n=y[t][u],r=!0}else g.status.mn&&g.config.numSelFollower?(n=y[t][0],g.control.numSelFollower(String.fromCharCode(t))):(n=y[t][0],r=!0);switch(t>=96&&t<=105&&(n=y[t][0],r=!0),t){case 32:if(f)return;if(g.inputpanel.isShow)return g.control.spaSelResult(),!1;var u=g.status.pt?2:0;n=y[t][u],r=!0;break;case 187:if(f){var u=g.status.pt?5:3;n=y[t][u],r=!0}else{if(g.inputpanel.isShow)return g.control.setPageNxt(),!1;var u=g.status.pt?2:0;n=y[t][u],r=!0}if(""==g.inputsource)return g.control.insertText(n,!0),!1;break;case 188:case 190:if(f){var u=g.status.pt?5:3;n=y[t][u],r=!0}else if(g.inputpanel.isShow&&a("."))n=y[t][0];else{var u=g.status.pt?2:0;n=y[t][u],r=!0}if(""==g.inputsource)return g.control.insertText(n,!0),!1;break;case 189:if(f){var u=g.status.pt?5:3;n=y[t][u],r=!0}else if(g.inputpanel.isShow){if(189!=t||!a("-"))return g.control.setPagePre(),!1;n=y[t][0]}else{var u=g.status.pt?2:0;n=y[t][u],r=!0}if(""==g.inputsource)return g.control.insertText(n,!0),!1;break;case 106:case 107:case 109:case 110:case 111:if(n=y[t][0],r=!0,""==g.inputsource)return g.control.insertText(n,!0),!1;break;case 186:if(f){if(186==t&&a(":")){n=y[t][3];break}var u=g.status.pt?5:3;n=y[t][u]}else{if(g.inputpanel.isShow){n=y[t][0];break}var u=g.status.pt?2:0;n=y[t][u]}if(""==g.inputsource)return g.control.insertText(n,!0),!1;r=!0;break;case 192:if(f){var u=g.status.pt?5:3;n=y[t][u],r=!0}else{var u=g.status.pt?2:0;n=y[t][u],r=!g.status.mn}break;case 191:case 219:case 220:case 221:if(f){var u=g.status.pt?5:3;n=y[t][u]}else{if(191==t&&a("/")){n=y[t][0];break}var u=g.status.pt?2:0;n=y[t][u]}if(""==g.inputsource)return g.control.insertText(n,!0),!1;r=!0;break;case 222:if(f){var u=m?6:7;n=g.status.pt?y[t][u]:y[t][4],g.status.pt&&(m=!m),r=!0}else{var u=v?2:3;n=g.status.pt?y[t][u]:y[t][0],g.status.pt&&(v=!v),r=!g.status.mn}if(""==g.inputsource)return g.control.insertText(n,!0),!1}g.control.inputLetter(n,r)}}else g.inputpanel.isShow?(8==t&&(i(e),g.control.delLetter("left")),13==t&&(g.inputpanel.isShow&&(A=!0),""!=g.inputsource&&i(e),g.control.enterInput(),g.inputpanel.isShow&&g.inputpanel.hide()),27==t&&(i(e),g.inputpanel.hide()),33==t&&(i(e),g.control.setPagePre()),34==t&&(i(e),g.control.setPageNxt()),38==t&&(g.isOpera||(i(e),g.control.arrSelResult("pre"))),40==t&&(g.isOpera||(i(e),g.control.arrSelResult("nxt"))),37==t&&(g.isOpera||(i(e),g.control.moveCursor("left"))),39==t&&(g.isOpera||(i(e),g.control.moveCursor("right"))),36==t&&(i(e),g.control.moveCursor("home")),35==t&&(i(e),g.control.moveCursor("end")),46==t&&(i(e),g.control.delLetter("right"))):38==t?(i(e),g.iptCurTarget.selectionStart=g.iptCurTarget.selectionEnd=g.iptCurTarget.selectionStart-1):40==t&&(i(e),g.iptCurTarget.selectionStart=g.iptCurTarget.selectionEnd=g.iptCurTarget.selectionStart+1)}}function t(e){var e=e||window.event,t=e.which?e.which:e.keyCode,n="",a=!1;c&&!(d||h||_)&&(t>=97&&t<=122?g.status.mn?(n=y[t-32][0],g.isSubAddr&&""!=g.inputsource&&(/\'$/.test(g.inputsource)||(n="."+n),g.isSubAddr=!1)):(n=y[t-32][0],a=!0):(n=y[t][3],g.status.mn||(a=!0)),i(e),g.control.inputLetter(n,a))}function n(e){var e=e||window.event,t=e.which?e.which:e.keyCode;"Range"==window.getSelection().type||!A||16!=t||e.ctrlKey||e.altKey||g.control.modeMn()}function i(e){g.isIE?e.returnValue=!1:e.preventDefault()}function a(e){var t=!1,n=g.inputsource;if(g.inputpanel.isShow)switch(e){case"-":case".":t=/^(((https?|ftp)\:\/{2}[a-z0-9])|w{3})|\./i.test(n);break;case":":t=/^(https?|ftp)(?!\:)/i.test(n);break;case"/":t=/^(https?|ftp)\:\/?/i.test(n)}return t}function r(){return/(((https?|ftp)\:)|w{3}\.|\.)/i.test(g.inputsource)}function u(e){l(e,"keydown",g.keywatcher.keydownhandler),l(e,"keypress",g.keywatcher.keypresshandler),l(e,"keyup",g.keywatcher.keyuphandler)}function s(e){o(e,"keydown",g.keywatcher.keydownhandler),o(e,"keypress",g.keywatcher.keypresshandler),o(e,"keyup",g.keywatcher.keyuphandler)}var c=!1,p=!1,f=!1,d=!1,h=!1,_=!1,v=!0,m=!0,A=!1;return{keydownhandler:e,keypresshandler:t,keyuphandler:n,checkAddr:r,rmKeyEvent:u,addKeyEvent:s}}(),g.runner=function(){function e(e){var e=e||window.event,t=e.target||e.srcElement;void 0===t.tagName?g.iptCurTarget=t.frameElement:g.iptCurTarget=t,g.isIE&&"iframe"==t.tagName.toLowerCase()&&(t=t.contentWindow.document),g.status.on&&(g.keywatcher.rmKeyEvent(t),g.keywatcher.addKeyEvent(t),g.inputwatcher.on()),g.toolbar.show()}function t(e){var e=e||window.event,t=e.target||e.srcElement;g.isIE&&"iframe"==t.tagName.toLowerCase()&&(t=t.contentWindow.document),g.keywatcher.rmKeyEvent(t),g.inputwatcher.off()}function n(){for(var n=document.querySelectorAll("input.zuga-jsime, textarea.zuga-jsime, div.zuga-jsime, div.zuga-jsime input, div.zuga-jsime textarea, div.zuga-jsime iframe"),i=0;i<n.length;i++){var a=n[i],u=a&&a.tagName&&a.tagName.toLowerCase();u&&("input"==u||"textarea"==u||"div"==u&&"true"==a.contentEditable.toString())?(g.status.on&&g.control.disableIme(a,!1),o(a,"focus",e),o(a,"blur",t)):"iframe"==u&&(r(a),a.onload=function(){r(a)})}}function i(){for(var n=document.querySelectorAll("input.zuga-jsime, textarea.zuga-jsime, div.zuga-jsime, div.zuga-jsime input, div.zuga-jsime textarea, div.zuga-jsime iframe"),i=0;i<n.length;i++){var r=n[i],u=r&&r.tagName&&r.tagName.toLowerCase();u&&("input"==u||"textarea"==u||"div"==u&&"true"==r.contentEditable.toString())?(g.control.disableIme(r,!1),g.runner.end(),g.keywatcher.rmKeyEvent(r),g.inputwatcher.off(),l(r,"focus",e),l(r,"blur",t)):"iframe"==u&&(a(r),r.onload=function(){a(r)})}}function a(n){try{var i,a;n.contentDocument&&!g.isIE?(i=n.contentDocument,a=n.contentWindow):n.contentWindow.document&&(i=n.contentWindow.document,a=n),i&&("on"!=i.designMode.toLowerCase()&&"true"!=i.body.contentEditable.toString()||(l(a,"focus",e),l(a,"blur",t)))}catch(e){}}function r(n){try{var i,a;n.contentDocument&&!g.isIE?(i=n.contentDocument,a=n.contentWindow):n.contentWindow.document&&(i=n.contentWindow.document,a=n),i&&("on"!=i.designMode.toLowerCase()&&"true"!=i.body.contentEditable.toString()||(o(a,"focus",e),o(a,"blur",t)))}catch(e){}}function u(e){if(e){var e=e||window.event;if((e.target||e.srcElement)==g.iptCurTarget)return!1}g.isBlur&&setTimeout(function(){g.inputpanel.isShow&&g.inputpanel.hide()},50)}return{init:n,destroy:i,end:u}}(),g.build.init(),window.ZugaIME={config:g.config,init:g.runner.init,numSelResult:g.control.numSelResult}}]);